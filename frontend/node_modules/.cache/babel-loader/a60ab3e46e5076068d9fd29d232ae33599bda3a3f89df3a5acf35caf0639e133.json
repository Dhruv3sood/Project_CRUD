{"ast":null,"code":"var _jsxFileName = \"/Users/dhruvsood/Desktop/Probo_Assignments/project_crud/frontend/src/components/UserList.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserList = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [token, setToken] = useState('');\n  const [isTokenEntered, setIsTokenEntered] = useState(false); // Track if the token is entered\n\n  const fetchUsers = async () => {\n    try {\n      const response = await axios.get('/api/users', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUsers(response.data.data);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      alert('Failed to fetch users. Check your JWT token.');\n    }\n  };\n  const handleTokenChange = e => {\n    setToken(e.target.value);\n    setIsTokenEntered(e.target.value.trim() !== ''); // Enable the button only if token is entered\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"User List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter JWT Token\",\n      onChange: handleTokenChange,\n      value: token,\n      style: {\n        width: '300px',\n        marginBottom: '10px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fetchUsers,\n      disabled: !isTokenEntered // Disable button if no token is entered\n      ,\n      style: {\n        marginLeft: '10px',\n        padding: '5px 10px',\n        cursor: isTokenEntered ? 'pointer' : 'not-allowed',\n        backgroundColor: isTokenEntered ? 'blue' : 'gray',\n        color: 'white',\n        border: 'none'\n      },\n      children: \"Fetch Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: users.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          marginBottom: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [user.name, \" \", user.lastName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), \" - \", user.email]\n      }, user._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n_s(UserList, \"287JSmJ3NYAMivUif8Kj2qyVYMg=\");\n_c = UserList;\nexport default UserList;\nvar _c;\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","UserList","_s","users","setUsers","token","setToken","isTokenEntered","setIsTokenEntered","fetchUsers","response","get","headers","Authorization","data","error","console","alert","handleTokenChange","e","target","value","trim","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","style","width","marginBottom","onClick","disabled","marginLeft","padding","cursor","backgroundColor","color","border","map","user","name","lastName","email","_id","_c","$RefreshReg$"],"sources":["/Users/dhruvsood/Desktop/Probo_Assignments/project_crud/frontend/src/components/UserList.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst UserList = () => {\n  const [users, setUsers] = useState([]);\n  const [token, setToken] = useState('');\n  const [isTokenEntered, setIsTokenEntered] = useState(false); // Track if the token is entered\n\n  const fetchUsers = async () => {\n    try {\n      const response = await axios.get('/api/users', {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setUsers(response.data.data);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      alert('Failed to fetch users. Check your JWT token.');\n    }\n  };\n\n  const handleTokenChange = (e) => {\n    setToken(e.target.value);\n    setIsTokenEntered(e.target.value.trim() !== ''); // Enable the button only if token is entered\n  };\n\n  return (\n    <div>\n      <h2>User List</h2>\n      <input\n        type=\"text\"\n        placeholder=\"Enter JWT Token\"\n        onChange={handleTokenChange}\n        value={token}\n        style={{ width: '300px', marginBottom: '10px' }}\n      />\n      <button\n        onClick={fetchUsers}\n        disabled={!isTokenEntered} // Disable button if no token is entered\n        style={{\n          marginLeft: '10px',\n          padding: '5px 10px',\n          cursor: isTokenEntered ? 'pointer' : 'not-allowed',\n          backgroundColor: isTokenEntered ? 'blue' : 'gray',\n          color: 'white',\n          border: 'none',\n        }}\n      >\n        Fetch Users\n      </button>\n      <ul>\n        {users.map((user) => (\n          <li key={user._id} style={{ marginBottom: '10px' }}>\n            <strong>{user.name} {user.lastName}</strong> - {user.email}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default UserList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}